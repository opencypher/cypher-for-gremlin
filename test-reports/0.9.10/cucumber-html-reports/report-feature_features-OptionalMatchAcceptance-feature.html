<!DOCTYPE html>
<html>
<head>
  
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.tablesorter.min.js"></script>
<script type="text/javascript" src="js/Chart.min.js"></script>
<script type="text/javascript" src="js/moment.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>

<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="css/cucumber.css" type="text/css"/>
<link rel="stylesheet" href="css/font-awesome.min.css"/>
<link rel="shortcut icon" href="images/favicon.png"/>

<script type="text/javascript">
$(document).ready(function() {
    // this will tell tablesorter to try looking for the data-value attribute
    // if present, it'll sort by that instead
    // otherwise, it'll sort by the text content of the table cell
    $("#tablesorter").tablesorter({
        textAttribute: 'data-value',
        // ignores the first row of the header, the 'scenario', 'steps', since
        // sorting those doesn't make sense
        selectorHeaders: '> thead tr:not(.dont-sort) th',
        // use a stable sort
        sortStable: true
    });
});
</script>











  
<title>Cucumber Reports (no 0.9.10) - Feature: OptionalMatchAcceptance</title>

</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top" id="navigation">
  <div class="container-fluid">
    <div class="collapse navbar-collapse">
      <p class="navbar-text navbar-left">Cucumber Report</p>
      <ul class="nav navbar-nav navbar-right">
                <li role="presentation" ><a href="overview-features.html">Features</a></li>
        <li role="presentation" ><a href="overview-tags.html">Tags</a></li>
        <li role="presentation" ><a href="overview-steps.html">Steps</a></li>
                <li role="presentation" ><a href="overview-failures.html">Failures</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container-fluid">
  <div class="col-md-5 col-md-offset-1">
    
<table class="table table-bordered" id="build-info">
  <thead>
    <tr>
      <th>Project</th>
              <th>Number</th>
            <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr class="info">
      <td>cypher-for-gremlin</td>
              <td>0.9.10</td>
            <td>04 Jul 2018, 23:04</td>
    </tr>
  </tbody>
</table>

  </div>
  <div class="col-md-3 col-md-offset-2">
      </div>
</div>


<div id="report-lead" class="container-fluid">
  <div class="col-md-10 col-md-offset-1">
    <h2>Feature Report</h2>
      </div>
</div>


<div class="container-fluid" id="report">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <table class="stats-table">

        
<thead>
  <tr class="header dont-sort">
        <th></th>
    <th colspan="6">Steps</th>
    <th colspan="3">Scenarios</th>
    <th colspan="2">Features</th>
  </tr>
  <tr>
    <th>Feature</th>
        <th class="passed">Passed</th>
    <th class="failed">Failed</th>
    <th class="skipped">Skipped</th>
    <th class="pending">Pending</th>
    <th class="undefined">Undefined</th>
    <th class="total">Total</th>

    <th class="passed">Passed</th>
    <th class="failed">Failed</th>
    <th class="total">Total</th>

    <th>Duration</th>
    <th>Status</th>
  </tr>
</thead>


        <tbody>
        <tr>
          <td class="tagname">OptionalMatchAcceptance</td>
                    <td      class="passed"    >108</td>
          <td      class="failed"    >2</td>
          <td >0</td>
          <td >0</td>
          <td >0</td>
          <td class="total">110</td>

          <td  class="passed"    >20</td>
          <td  class="failed"    >2</td>
          <td class="total">22</td>

          <td class="duration" data-value="982907791">0.982</td>
          <td class="failed">Failed</td>
        </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>



<div class="container-fluid">
  <div class="row">
    <div class="col-md-10 col-md-offset-10">
      <i class="fa fa-chevron-circle-down fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('show')"></i>
      <i class="fa fa-chevron-circle-up fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('hide')"></i>
    </div>
  </div>
</div>


<div class="container-fluid" id="report">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="feature">
        
<div class="tags indention">
  </div>

        
<div class="brief failed">
  <span class="keyword indention">Feature</span>
  <span class="name">OptionalMatchAcceptance</span>
  

  </div>

        <div class="description indention"></div>

        <div class="elements inner-level">
                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.010</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-1">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-1" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-2">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-2" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-3">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-3" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.668 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.010</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-4">
          <a>Doc string</a>
      </div>
      <div id="msg-4" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-5">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-5" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.670 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.670 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:26.675 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.024</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-6">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Return null when no matches due to inline label predicate</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-6" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-7">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-7" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-8">
          <a>Doc string</a>
      </div>
      <div id="msg-8" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m:NonExistent)
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-9">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-9" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.698 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m:NonExistent)
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.698 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r]-(m:NonExistent) RETURN r
23:03:26.702 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.018</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-10">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-10" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.703 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.704 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:26.706 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.707 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.707 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:26.711 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.711 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.712 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:26.714 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:26.715 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.716 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-11">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-11" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-12">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-12" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-13">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-13" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.722 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-14">
          <a>Doc string</a>
      </div>
      <div id="msg-14" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-15">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-15" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.723 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.723 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:26.728 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.023</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-16">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Return null when no matches due to label predicate in WHERE</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-16" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-17">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-17" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-18">
          <a>Doc string</a>
      </div>
      <div id="msg-18" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m:NonExistent
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-19">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-19" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.751 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m:NonExistent
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.751 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r]-(m) WHERE m:NonExistent RETURN r
23:03:26.756 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.select('n').bothE().as('r').otherV().as('m').hasLabel('NonExistent').dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.017</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-20">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-20" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.757 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.757 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:26.759 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.760 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.760 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:26.763 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.764 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.764 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:26.767 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:26.768 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.768 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-21">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-21" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-22">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-22" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-23">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-23" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.774 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-24">
          <a>Doc string</a>
      </div>
      <div id="msg-24" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-25">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-25" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.775 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.775 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:26.781 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.026</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-26">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Respect predicates on the OPTIONAL MATCH</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-26" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-27">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-27" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.006</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-28">
          <a>Doc string</a>
      </div>
      <div id="msg-28" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m.prop = 42
RETURN m</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-29">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-29" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.803 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r]-(m)
WHERE m.prop = 42
RETURN m}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.803 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r]-(m) WHERE m.prop = 42 RETURN m
23:03:26.808 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE().as('r').otherV().as('m').has('prop', eq(42)).dedup('n', 'r', 'm'), __.select('n').bothE().as('r').otherV().as('m').has('prop', eq(42)).dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('m').project('m').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>m</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.020</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-30">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-30" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.809 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.809 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:26.812 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.813 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.813 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:26.816 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.816 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.817 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:26.820 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:26.821 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.822 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-31">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-31" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-32">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-32" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-33">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-33" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.830 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-34">
          <a>Doc string</a>
      </div>
      <div id="msg-34" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-35">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-35" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.831 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.831 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:26.837 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.025</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-36">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Returning label predicate on null node</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-36" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-37">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-37" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-38">
          <a>Doc string</a>
      </div>
      <div id="msg-38" class="collapse collapsable-details">
        <pre>MATCH (n:Single)
OPTIONAL MATCH (n)-[r:TYPE]-(m)
RETURN m:TYPE</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-39">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-39" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.860 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n:Single)
OPTIONAL MATCH (n)-[r:TYPE]-(m)
RETURN m:TYPE}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.860 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n:Single) OPTIONAL MATCH (n)-[r:TYPE]-(m) RETURN m:TYPE
23:03:26.865 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('n').hasLabel('Single').choose(__.select('n').bothE('TYPE').as('r').otherV().as('m').dedup('n', 'r', 'm'), __.select('n').bothE('TYPE').as('r').otherV().as('m').dedup('n', 'r', 'm'), __.constant('  cypher.null').as('r').as('m')).select('m').project('m:TYPE').by(__.choose(neq('  cypher.null'), __.choose(__.hasLabel('TYPE'), __.constant(true), __.constant(false)), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>m:TYPE</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.019</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-40">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-40" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.866 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.866 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:26.869 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.870 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.870 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:26.874 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.874 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.874 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:26.878 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:26.878 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.879 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.012</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-41">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-41" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-42">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-42" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-43">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-43" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.886 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.012</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-44">
          <a>Doc string</a>
      </div>
      <div id="msg-44" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-45">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-45" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.887 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.887 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:26.893 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.039</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-46">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">MATCH after OPTIONAL MATCH</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-46" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-47">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-47" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.020</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-48">
          <a>Doc string</a>
      </div>
      <div id="msg-48" class="collapse collapsable-details">
        <pre>MATCH (a:Single)
OPTIONAL MATCH (a)--&gt;(b:NonExistent)
OPTIONAL MATCH (a)--&gt;(c:NonExistent)
WITH coalesce(b, c) AS x
MATCH (x)--&gt;(d)
RETURN d</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-49">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-49" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.920 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single)
OPTIONAL MATCH (a)--&gt;(b:NonExistent)
OPTIONAL MATCH (a)--&gt;(c:NonExistent)
WITH coalesce(b, c) AS x
MATCH (x)--&gt;(d)
RETURN d}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.920 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single) OPTIONAL MATCH (a)--&gt;(b:NonExistent) OPTIONAL MATCH (a)--&gt;(c:NonExistent) WITH coalesce(b, c) AS x MATCH (x)--&gt;(d) RETURN d
23:03:26.930 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').choose(__.select('a').outE().inV().as('b').hasLabel('NonExistent'), __.select('a').outE().inV().as('b').hasLabel('NonExistent'), __.constant('  cypher.null').as('b')).choose(__.select('a').outE().inV().as('c').hasLabel('NonExistent'), __.select('a').outE().inV().as('c').hasLabel('NonExistent'), __.constant('  cypher.null').as('c')).select('b', 'c').map(__.coalesce(__.select('b').is(neq('  cypher.null')), __.select('c'))).is(neq('  cypher.null')).outE().inV().project('d').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>d</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.018</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-50">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-50" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.940 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.941 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:26.943 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.944 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.944 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:26.947 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:26.948 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.948 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:26.951 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:26.952 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.953 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.014</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-51">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-51" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-52">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-52" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-53">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-53" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.959 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.014</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-54">
          <a>Doc string</a>
      </div>
      <div id="msg-54" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-55">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-55" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.961 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.961 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:26.968 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.035</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-56">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">WITH after OPTIONAL MATCH</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-56" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-57">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-57" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.009</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-58">
          <a>Doc string</a>
      </div>
      <div id="msg-58" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (a:A)
WITH a AS a
MATCH (b:B)
RETURN a, b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-59">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-59" class="collapse collapsable-details " >
          
          <pre><p>23:03:26.995 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (a:A)
WITH a AS a
MATCH (b:B)
RETURN a, b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:26.996 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (a:A) WITH a AS a MATCH (b:B) RETURN a, b
23:03:27.002 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('a').hasLabel('A'), __.V().as('a').hasLabel('A'), __.constant('  cypher.null').as('a')).select('a').as('a').V().as('b').hasLabel('B').select('a', 'b').project('a', 'b').by(__.select('a').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null'))).by(__.select('b').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                                  <td>(:B {prop: 46})</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.026</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-60">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-60" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.005 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.008 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.011 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.012 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.012 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.015 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.016 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.016 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.020 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.021 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.022 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.016</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-61">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-61" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-62">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-62" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-63">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-63" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.031 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.016</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-64">
          <a>Doc string</a>
      </div>
      <div id="msg-64" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-65">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-65" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.038 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.038 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.048 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.027</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-66">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Named paths in optional matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-66" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-67">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-67" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.006</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-68">
          <a>Doc string</a>
      </div>
      <div id="msg-68" class="collapse collapsable-details">
        <pre>MATCH (a:A)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-69">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-69" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.080 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.080 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A) OPTIONAL MATCH p = (a)-[:X]-&gt;(b) RETURN p
23:03:27.085 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').choose(__.V().as('  GENERATED2').where(__.select('  GENERATED2').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().path().as('p'), __.V().as('  GENERATED2').where(__.select('  GENERATED2').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().path().as('p'), __.constant('  cypher.null').as('p')).select('p').project('p').by(__.choose(neq('  cypher.null'), __.project('  cypher.relationship', '  cypher.element').by(__.select('  cypher.path.edge.p').unfold().project('  cypher.id', '  cypher.inv', '  cypher.outv').by(__.id()).by(__.inV().id()).by(__.outV().id()).fold()).by(__.unfold().is(neq('  cypher.start')).valueMap(true).fold()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>p</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.021</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-70">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-70" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.086 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.086 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.090 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.091 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.091 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.095 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.096 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.096 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.100 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.101 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.101 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.012</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-71">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-71" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-72">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-72" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-73">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-73" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.108 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.012</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-74">
          <a>Doc string</a>
      </div>
      <div id="msg-74" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-75">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-75" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.109 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.109 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.115 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.025</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-76">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH and bound nodes</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-76" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-77">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-77" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-78">
          <a>Doc string</a>
      </div>
      <div id="msg-78" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:C)
OPTIONAL MATCH (x)--&gt;(b)
RETURN x</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-79">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-79" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.140 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:C)
OPTIONAL MATCH (x)--&gt;(b)
RETURN x}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.140 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:C) OPTIONAL MATCH (x)--&gt;(b) RETURN x
23:03:27.145 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().hasLabel('A').V().as('b').hasLabel('C').choose(__.V().as('x').outE().inV().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('b'))), __.V().as('x').outE().inV().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('b'))), __.constant('  cypher.null').as('x')).select('x').project('x').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.019</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-80">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-80" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.146 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.146 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.149 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.150 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.150 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.153 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.154 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.154 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.157 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.157 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.160 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.010</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-81">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-81" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-82">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-82" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-83">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-83" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.166 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.010</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-84">
          <a>Doc string</a>
      </div>
      <div id="msg-84" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-85">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-85" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.167 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.167 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.172 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.013</span>


    <span data-toggle="collapse" class=" collapsable-control" data-target="#element-86">
    
<div class="brief failed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH with labels on the optional end node</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-86" class="collapse collapsable-details  in ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsable-control" data-target="#steps-87">
    
<div class="brief failed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-87" class="inner-level collapse collapsable-details  in ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-88">
          <a>Doc string</a>
      </div>
      <div id="msg-88" class="collapse collapsable-details">
        <pre>CREATE (:X), (x:X), (y1:Y), (y2:Y:Z)
CREATE (x)-[:REL]-&gt;(y1),
       (x)-[:REL]-&gt;(y2)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-89">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-89" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.177 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (:X), (x:X), (y1:Y), (y2:Y:Z)
CREATE (x)-[:REL]-&gt;(y1),
       (x)-[:REL]-&gt;(y2)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.177 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (:X), (x:X), (y1:Y), (y2:Y:Z) CREATE (x)-[:REL]-&gt;(y1),        (x)-[:REL]-&gt;(y2)
23:03:27.180 [gremlin-server-worker-1] WARN  o.a.t.g.s.h.OpExecutorHandler - Multiple labels are not supported: Y::Z
org.opencypher.gremlin.translation.exception.SyntaxException: Multiple labels are not supported: Y::Z
	at org.opencypher.gremlin.translation.ir.TranslationWriter$$anonfun$write$3$$anonfun$apply$1.apply(TranslationWriter.scala:57)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$$anonfun$write$3$$anonfun$apply$1.apply(TranslationWriter.scala:57)
	at scala.Option.foreach(Option.scala:257)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$$anonfun$write$3.apply(TranslationWriter.scala:57)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$$anonfun$write$3.apply(TranslationWriter.scala:56)
	at scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)
	at scala.collection.immutable.Map$Map2.foreach(Map.scala:137)
	at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.write(TranslationWriter.scala:56)
	at org.opencypher.gremlin.translation.ir.TranslationWriter$.write(TranslationWriter.scala:47)
	at org.opencypher.gremlin.translation.ir.TranslationWriter.write(TranslationWriter.scala)
	at org.opencypher.gremlin.server.op.cypher.CypherOpProcessor.evalCypher(CypherOpProcessor.java:112)
	at org.apache.tinkerpop.gremlin.server.handler.OpExecutorHandler.channelRead0(OpExecutorHandler.java:68)
	at org.apache.tinkerpop.gremlin.server.handler.OpExecutorHandler.channelRead0(OpExecutorHandler.java:43)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:159)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:312)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:335)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1304)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:356)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:342)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:921)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:135)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:646)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:581)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)
	at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:131)
	at java.lang.Thread.run(Thread.java:748)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.007</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-90">
          <a>Doc string</a>
      </div>
      <div id="msg-90" class="collapse collapsable-details">
        <pre>MATCH (a:X)
OPTIONAL MATCH (a)--&gt;(b:Y)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-91">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-91" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.200 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:X)
OPTIONAL MATCH (a)--&gt;(b:Y)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.200 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:X) OPTIONAL MATCH (a)--&gt;(b:Y) RETURN b
23:03:27.204 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('X').choose(__.select('a').outE().inV().as('b').hasLabel('Y'), __.select('a').outE().inV().as('b').hasLabel('Y'), __.constant('  cypher.null').as('b')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief failed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        

  <div class="inner-level">
    <div class="message indention">
      <div data-toggle="collapse" class=" collapsable-control" data-target="#msg-92">
          <a>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException: Feature &quot;OptionalMatchAcceptance&quot;: Scenario &quot;OPTIONAL MATCH with labels on the optional end node&quot; failed with message: </a>
      </div>
      <div id="msg-92" class="collapse collapsable-details  in ">
        <pre>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException: Feature &quot;OptionalMatchAcceptance&quot;: Scenario &quot;OPTIONAL MATCH with labels on the optional end node&quot; failed with message: 
Expected (in any order of rows):
| b |
| null |
| (:Y) |
| (:Y:Z) |
Actual:
| b |

	at org.opencypher.tools.tck.api.Scenario$$anonfun$executeOnGraph$1.apply(Scenario.scala:90)
	at org.opencypher.tools.tck.api.Scenario$$anonfun$executeOnGraph$1.apply(Scenario.scala:60)
	at scala.collection.LinearSeqOptimized$class.foldLeft(LinearSeqOptimized.scala:124)
	at scala.collection.immutable.List.foldLeft(List.scala:84)
	at org.opencypher.tools.tck.api.Scenario.executeOnGraph(Scenario.scala:60)
	at org.opencypher.tools.tck.api.Scenario$$anon$1.execute(Scenario.scala:54)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:145)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:46)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:24)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$0(HierarchicalTestExecutor.java:85)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.lambda$invokeTestMethod$1(TestFactoryTestDescriptor.java:80)
	at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.invokeTestMethod(TestFactoryTestDescriptor.java:68)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:92)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$100(JUnitPlatformTestClassProcessor.java:77)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:73)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy1.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:748)
</pre>
      </div>
    </div>
  </div>


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>(:Y)</td>
                              </tr>
                          <tr>
                                  <td>(:Y:Z)</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.012</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-93">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-93" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-94">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-94" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-95">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-95" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.208 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.012</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-96">
          <a>Doc string</a>
      </div>
      <div id="msg-96" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-97">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-97" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.209 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.210 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.215 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.023</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-98">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Named paths inside optional matches with node predicates</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-98" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-99">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-99" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-100">
          <a>Doc string</a>
      </div>
      <div id="msg-100" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-101">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-101" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.238 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[:X]-&gt;(b)
RETURN p}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.239 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:B) OPTIONAL MATCH p = (a)-[:X]-&gt;(b) RETURN p
23:03:27.243 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('b').hasLabel('B').choose(__.V().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().as('p'), __.V().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).outE('X').aggregate('  cypher.path.edge.p').inV().as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().as('p'), __.constant('  cypher.null').as('p')).select('p').project('p').by(__.choose(neq('  cypher.null'), __.project('  cypher.relationship', '  cypher.element').by(__.select('  cypher.path.edge.p').unfold().project('  cypher.id', '  cypher.inv', '  cypher.outv').by(__.id()).by(__.inV().id()).by(__.outV().id()).fold()).by(__.unfold().is(neq('  cypher.start')).valueMap(true).fold()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>p</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.017</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-102">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-102" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.244 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.244 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.247 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.247 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.248 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.251 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.251 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.251 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.255 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.255 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.256 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-103">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-103" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-104">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-104" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-105">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-105" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.262 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-106">
          <a>Doc string</a>
      </div>
      <div id="msg-106" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-107">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-107" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.263 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.263 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.268 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.006</span>


    <span data-toggle="collapse" class=" collapsable-control" data-target="#element-108">
    
<div class="brief failed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-108" class="collapse collapsable-details  in ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsable-control" data-target="#steps-109">
    
<div class="brief failed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-109" class="inner-level collapse collapsable-details  in ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-110">
          <a>Doc string</a>
      </div>
      <div id="msg-110" class="collapse collapsable-details">
        <pre>MATCH (a:Single)
OPTIONAL MATCH (a)-[*]-&gt;(b)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-111">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-111" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.292 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single)
OPTIONAL MATCH (a)-[*]-&gt;(b)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.292 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single) OPTIONAL MATCH (a)-[*]-&gt;(b) RETURN b
23:03:27.295 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').choose(__.select('a').as('  cypher.path.start.GENERATED3').repeat(__.outE().inV()).emit().until(__.path().from('  cypher.path.start.GENERATED3').count(local).is(gte(21))).as('b'), __.select('a').as('  cypher.path.start.GENERATED3').repeat(__.outE().inV()).emit().until(__.path().from('  cypher.path.start.GENERATED3').count(local).is(gte(21))).as('b'), __.constant('  cypher.null').as('b')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief failed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        

  <div class="inner-level">
    <div class="message indention">
      <div data-toggle="collapse" class=" collapsable-control" data-target="#msg-112">
          <a>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException: Feature &quot;OptionalMatchAcceptance&quot;: Scenario &quot;Variable length optional relationships&quot; failed with message: </a>
      </div>
      <div id="msg-112" class="collapse collapsable-details  in ">
        <pre>org.opencypher.tools.tck.api.Scenario$ScenarioFailedException: Feature &quot;OptionalMatchAcceptance&quot;: Scenario &quot;Variable length optional relationships&quot; failed with message: 
Expected (in any order of rows):
| b |
| (:A {prop: 42}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:C) |
Actual:
| b |
| (:A {prop: 42}) |
| (:B {prop: 46}) |
| (:C) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
| (:B {prop: 46}) |
	at org.opencypher.tools.tck.api.Scenario$$anonfun$executeOnGraph$1.apply(Scenario.scala:90)
	at org.opencypher.tools.tck.api.Scenario$$anonfun$executeOnGraph$1.apply(Scenario.scala:60)
	at scala.collection.LinearSeqOptimized$class.foldLeft(LinearSeqOptimized.scala:124)
	at scala.collection.immutable.List.foldLeft(List.scala:84)
	at org.opencypher.tools.tck.api.Scenario.executeOnGraph(Scenario.scala:60)
	at org.opencypher.tools.tck.api.Scenario$$anon$1.execute(Scenario.scala:54)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:145)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:46)
	at org.junit.jupiter.engine.descriptor.DynamicTestTestDescriptor.execute(DynamicTestTestDescriptor.java:24)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$0(HierarchicalTestExecutor.java:85)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.lambda$invokeTestMethod$1(TestFactoryTestDescriptor.java:80)
	at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)
	at org.junit.jupiter.engine.descriptor.TestFactoryTestDescriptor.invokeTestMethod(TestFactoryTestDescriptor.java:68)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)
	at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:92)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$100(JUnitPlatformTestClassProcessor.java:77)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:73)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)
	at com.sun.proxy.$Proxy1.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)
	at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)
	at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)
	at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
	at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)
	at java.lang.Thread.run(Thread.java:748)
</pre>
      </div>
    </div>
  </div>


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                          <tr>
                                  <td>(:B {prop: 46})</td>
                              </tr>
                          <tr>
                                  <td>(:B {prop: 46})</td>
                              </tr>
                          <tr>
                                  <td>(:C)</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-113">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-113" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-114">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-114" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-115">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-115" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.298 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-116">
          <a>Doc string</a>
      </div>
      <div id="msg-116" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-117">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-117" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.301 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.302 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.307 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.168</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-118">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships with length predicates</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-118" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-119">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-119" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.151</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-120">
          <a>Doc string</a>
      </div>
      <div id="msg-120" class="collapse collapsable-details">
        <pre>MATCH (a:Single)
OPTIONAL MATCH (a)-[*3..]-(b)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-121">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-121" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.330 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single)
OPTIONAL MATCH (a)-[*3..]-(b)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.330 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single) OPTIONAL MATCH (a)-[*3..]-(b) RETURN b
23:03:27.335 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').choose(__.select('a').as('  cypher.path.start.GENERATED3').emit().repeat(__.bothE().as('  UNNAMED36').otherV()).until(__.path().from('  cypher.path.start.GENERATED3').count(local).is(gte(21))).where(__.path().from('  cypher.path.start.GENERATED3').count(local).is(gte(7))).simplePath().from('  cypher.path.start.GENERATED3').as('b').dedup('a', '  UNNAMED36', 'b'), __.select('a').as('  cypher.path.start.GENERATED3').emit().repeat(__.bothE().as('  UNNAMED36').otherV()).until(__.path().from('  cypher.path.start.GENERATED3').count(local).is(gte(21))).where(__.path().from('  cypher.path.start.GENERATED3').count(local).is(gte(7))).simplePath().from('  cypher.path.start.GENERATED3').as('b').dedup('a', '  UNNAMED36', 'b'), __.constant('  cypher.null').as('  UNNAMED36').as('b')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.017</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-122">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-122" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.482 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.482 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.484 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.485 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.485 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.488 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.489 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.489 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.493 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.493 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.494 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-123">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-123" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-124">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-124" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-125">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-125" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.499 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-126">
          <a>Doc string</a>
      </div>
      <div id="msg-126" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-127">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-127" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.500 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.500 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.506 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.022</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-128">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Optionally matching self-loops</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-128" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-129">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-129" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-130">
          <a>Doc string</a>
      </div>
      <div id="msg-130" class="collapse collapsable-details">
        <pre>MATCH (a:B)
OPTIONAL MATCH (a)-[r]-(a)
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-131">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-131" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.530 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:B)
OPTIONAL MATCH (a)-[r]-(a)
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.530 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:B) OPTIONAL MATCH (a)-[r]-(a) RETURN r
23:03:27.534 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('B').choose(__.select('a').bothE().as('r').otherV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))).dedup('a', 'r', 'a'), __.select('a').bothE().as('r').otherV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))).dedup('a', 'r', 'a'), __.constant('  cypher.null').as('r')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>[:LOOP]</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.016</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-132">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-132" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.535 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.535 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.538 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.538 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.539 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.541 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.542 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.542 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.545 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.546 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.547 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-133">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-133" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-134">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-134" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-135">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-135" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.552 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-136">
          <a>Doc string</a>
      </div>
      <div id="msg-136" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-137">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-137" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.553 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.553 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.558 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.022</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-138">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Optionally matching self-loops without matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-138" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-139">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-139" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.005</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-140">
          <a>Doc string</a>
      </div>
      <div id="msg-140" class="collapse collapsable-details">
        <pre>MATCH (a)
WHERE NOT (a:B)
OPTIONAL MATCH (a)-[r]-&gt;(a)
RETURN r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-141">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-141" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.582 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a)
WHERE NOT (a:B)
OPTIONAL MATCH (a)-[r]-&gt;(a)
RETURN r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.582 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a) WHERE NOT (a:B) OPTIONAL MATCH (a)-[r]-&gt;(a) RETURN r
23:03:27.586 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').where(__.not(__.select('a').hasLabel('B'))).choose(__.select('a').outE().as('r').inV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))), __.select('a').outE().as('r').inV().as('  GENERATED5').where(__.select('  GENERATED5').where(eq('a'))), __.constant('  cypher.null').as('r')).select('r').project('r').by(__.choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.016</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-142">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-142" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.587 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.587 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.590 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.590 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.590 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.593 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.594 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.594 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.597 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.598 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.599 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.010</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-143">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-143" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-144">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-144" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-145">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-145" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.604 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.010</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-146">
          <a>Doc string</a>
      </div>
      <div id="msg-146" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-147">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-147" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.605 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.605 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.610 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.023</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-148">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships with bound nodes</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-148" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-149">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-149" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.007</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-150">
          <a>Doc string</a>
      </div>
      <div id="msg-150" class="collapse collapsable-details">
        <pre>MATCH (a:Single), (x:C)
OPTIONAL MATCH (a)-[*]-&gt;(x)
RETURN x</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-151">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-151" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.632 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single), (x:C)
OPTIONAL MATCH (a)-[*]-&gt;(x)
RETURN x}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.632 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single), (x:C) OPTIONAL MATCH (a)-[*]-&gt;(x) RETURN x
23:03:27.637 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').V().as('x').hasLabel('C').choose(__.select('a').as('  cypher.path.start.GENERATED4').repeat(__.outE().inV()).emit().until(__.path().from('  cypher.path.start.GENERATED4').count(local).is(gte(21))).as('  GENERATED5').where(__.select('  GENERATED5').where(eq('x'))), __.select('a').as('  cypher.path.start.GENERATED4').repeat(__.outE().inV()).emit().until(__.path().from('  cypher.path.start.GENERATED4').count(local).is(gte(21))).as('  GENERATED5').where(__.select('  GENERATED5').where(eq('x'))), __.constant('  cypher.null')).select('x').project('x').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                              </tr>
                          <tr>
                                  <td>(:C)</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.016</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-152">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-152" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.639 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.639 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.642 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.643 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.643 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.646 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.646 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.646 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.649 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.650 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.651 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.012</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-153">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-153" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-154">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-154" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-155">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-155" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.656 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.012</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-156">
          <a>Doc string</a>
      </div>
      <div id="msg-156" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-157">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-157" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.657 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.657 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.663 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.027</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-158">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Variable length optional relationships with bound nodes, no matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-158" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-159">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-159" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.007</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-160">
          <a>Doc string</a>
      </div>
      <div id="msg-160" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[*]-&gt;(b)
RETURN p</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-161">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-161" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.688 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:B)
OPTIONAL MATCH p = (a)-[*]-&gt;(b)
RETURN p}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.688 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:B) OPTIONAL MATCH p = (a)-[*]-&gt;(b) RETURN p
23:03:27.693 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('b').hasLabel('B').choose(__.V().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).as('  cypher.path.start.p').repeat(__.outE().aggregate('  cypher.path.edge.p').inV()).emit().until(__.path().from('  cypher.path.start.p').count(local).is(gte(21))).as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().as('p'), __.V().as('  GENERATED3').where(__.select('  GENERATED3').where(eq('a'))).as('  cypher.path.start.p').repeat(__.outE().aggregate('  cypher.path.edge.p').inV()).emit().until(__.path().from('  cypher.path.start.p').count(local).is(gte(21))).as('  GENERATED4').where(__.select('  GENERATED4').where(eq('b'))).path().as('p'), __.constant('  cypher.null').as('p')).select('p').project('p').by(__.choose(neq('  cypher.null'), __.project('  cypher.relationship', '  cypher.element').by(__.select('  cypher.path.edge.p').unfold().project('  cypher.id', '  cypher.inv', '  cypher.outv').by(__.id()).by(__.inV().id()).by(__.outV().id()).fold()).by(__.unfold().is(neq('  cypher.start')).valueMap(true).fold()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>p</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.020</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-162">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-162" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.695 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.695 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.698 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.698 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.699 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.702 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.703 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.703 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.706 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.707 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.708 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.011</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-163">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-163" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-164">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-164" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-165">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-165" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.716 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.011</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-166">
          <a>Doc string</a>
      </div>
      <div id="msg-166" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-167">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-167" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.716 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.717 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.723 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.025</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-168">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Longer pattern with bound nodes</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-168" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-169">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-169" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.006</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-170">
          <a>Doc string</a>
      </div>
      <div id="msg-170" class="collapse collapsable-details">
        <pre>MATCH (a:Single), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-171">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-171" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.745 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:Single), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.745 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:Single), (c:C) OPTIONAL MATCH (a)--&gt;(b)--&gt;(c) RETURN b
23:03:27.751 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('Single').V().as('c').hasLabel('C').choose(__.select('a').outE().as('  UNNAMED43').inV().as('b').outE().as('  UNNAMED49').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED43').where(neq('  UNNAMED49'))), __.select('a').outE().as('  UNNAMED43').inV().as('b').outE().as('  UNNAMED49').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED43').where(neq('  UNNAMED49'))), __.constant('  cypher.null').as('  UNNAMED43').as('b').as('  UNNAMED49')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>(:A {prop: 42})</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.018</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-172">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-172" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.752 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.752 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.755 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.756 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.756 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.759 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.760 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.760 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.763 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.763 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.764 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.009</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-173">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-173" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-174">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-174" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-175">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-175" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.771 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.009</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-176">
          <a>Doc string</a>
      </div>
      <div id="msg-176" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-177">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-177" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.772 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.772 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.777 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.028</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-178">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Longer pattern with bound nodes without matches</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-178" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-179">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-179" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.007</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-180">
          <a>Doc string</a>
      </div>
      <div id="msg-180" class="collapse collapsable-details">
        <pre>MATCH (a:A), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-181">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-181" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.799 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (c:C)
OPTIONAL MATCH (a)--&gt;(b)--&gt;(c)
RETURN b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.799 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (c:C) OPTIONAL MATCH (a)--&gt;(b)--&gt;(c) RETURN b
23:03:27.805 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('c').hasLabel('C').choose(__.select('a').outE().as('  UNNAMED38').inV().as('b').outE().as('  UNNAMED44').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED38').where(neq('  UNNAMED44'))), __.select('a').outE().as('  UNNAMED38').inV().as('b').outE().as('  UNNAMED44').inV().as('  GENERATED6').where(__.select('  GENERATED6').where(eq('c'))).where(__.select('  UNNAMED38').where(neq('  UNNAMED44'))), __.constant('  cypher.null').as('  UNNAMED38').as('b').as('  UNNAMED44')).select('b').project('b').by(__.choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.021</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-182">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-182" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.806 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.806 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.809 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.810 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.810 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.814 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.815 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.815 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.820 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.820 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.821 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.014</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-183">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-183" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-184">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-184" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-185">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-185" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.828 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.014</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-186">
          <a>Doc string</a>
      </div>
      <div id="msg-186" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-187">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-187" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.829 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.829 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.835 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.035</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-188">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Handling correlated optional matches; first does not match implies second does not match</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-188" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-189">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-189" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.010</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-190">
          <a>Doc string</a>
      </div>
      <div id="msg-190" class="collapse collapsable-details">
        <pre>MATCH (a:A), (b:B)
OPTIONAL MATCH (a)--&gt;(x)
OPTIONAL MATCH (x)-[r]-&gt;(b)
RETURN x, r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-191">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-191" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.865 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (a:A), (b:B)
OPTIONAL MATCH (a)--&gt;(x)
OPTIONAL MATCH (x)-[r]-&gt;(b)
RETURN x, r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.865 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (a:A), (b:B) OPTIONAL MATCH (a)--&gt;(x) OPTIONAL MATCH (x)-[r]-&gt;(b) RETURN x, r
23:03:27.873 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().as('a').hasLabel('A').V().as('b').hasLabel('B').choose(__.select('a').outE().inV().as('x'), __.select('a').outE().inV().as('x'), __.constant('  cypher.null').as('x')).choose(__.select('x').is(neq('  cypher.null')).outE().as('r').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('b'))), __.select('x').is(neq('  cypher.null')).outE().as('r').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('b'))), __.constant('  cypher.null').as('r')).select('x', 'r').project('x', 'r').by(__.select('x').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null'))).by(__.select('r').choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>x</td>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>(:C)</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.024</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-192">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-192" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.875 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.875 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.878 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.879 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.879 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.882 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.882 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.883 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.885 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.886 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.887 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.017</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-193">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-193" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-194">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-194" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-195">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-195" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.900 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.017</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-196">
          <a>Doc string</a>
      </div>
      <div id="msg-196" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-197">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-197" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.901 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.902 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.910 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.031</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-198">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Handling optional matches between optionally matched entities</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-198" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-199">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-199" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.012</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-200">
          <a>Doc string</a>
      </div>
      <div id="msg-200" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (a:NotThere)
WITH a
MATCH (b:B)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-201">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-201" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.948 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (a:NotThere)
WITH a
MATCH (b:B)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.949 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (a:NotThere) WITH a MATCH (b:B) WITH a, b OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a) RETURN a, b, r
23:03:27.958 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('a').hasLabel('NotThere'), __.V().as('a').hasLabel('NotThere'), __.constant('  cypher.null').as('a')).select('a').as('a').V().as('b').hasLabel('B').select('a', 'b').project('a', 'b').by(__.select('a')).by(__.select('b')).as('  GENERATED3').select('a').as('a').select('  GENERATED3').select('b').as('b').choose(__.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED10').where(__.select('  GENERATED10').where(eq('a'))), __.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED10').where(__.select('  GENERATED10').where(eq('a'))), __.constant('  cypher.null').as('r')).select('a', 'b', 'r').project('a', 'b', 'r').by(__.select('a').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null'))).by(__.select('b').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null'))).by(__.select('r').choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                                  <td>(:B {prop: 46})</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.019</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-202">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-202" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.961 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.961 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:27.964 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.965 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.965 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:27.969 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:27.969 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.970 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:27.972 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:27.973 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.974 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.010</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-203">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-203" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-204">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-204" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-205">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-205" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.980 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.010</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-206">
          <a>Doc string</a>
      </div>
      <div id="msg-206" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-207">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-207" class="collapse collapsable-details " >
          
          <pre><p>23:03:27.981 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:27.981 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:27.986 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.026</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-208">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">Handling optional matches between nulls</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-208" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-209">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-209" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.008</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-210">
          <a>Doc string</a>
      </div>
      <div id="msg-210" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (a:NotThere)
OPTIONAL MATCH (b:NotThere)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-211">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-211" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.010 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (a:NotThere)
OPTIONAL MATCH (b:NotThere)
WITH a, b
OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a)
RETURN a, b, r}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.011 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (a:NotThere) OPTIONAL MATCH (b:NotThere) WITH a, b OPTIONAL MATCH (b)-[r:NOR_THIS]-&gt;(a) RETURN a, b, r
23:03:28.017 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('a').hasLabel('NotThere'), __.V().as('a').hasLabel('NotThere'), __.constant('  cypher.null').as('a')).choose(__.V().as('b').hasLabel('NotThere'), __.V().as('b').hasLabel('NotThere'), __.constant('  cypher.null').as('b')).select('a', 'b').project('a', 'b').by(__.select('a')).by(__.select('b')).as('  GENERATED1').select('a').as('a').select('  GENERATED1').select('b').as('b').choose(__.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('a'))), __.select('b').is(neq('  cypher.null')).outE('NOR_THIS').as('r').inV().as('  GENERATED8').where(__.select('  GENERATED8').where(eq('a'))), __.constant('  cypher.null').as('r')).select('a', 'b', 'r').project('a', 'b', 'r').by(__.select('a').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null'))).by(__.select('b').choose(neq('  cypher.null'), __.valueMap(true), __.constant('  cypher.null'))).by(__.select('r').choose(neq('  cypher.null'), __.project('  cypher.element', '  cypher.inv', '  cypher.outv').by(__.valueMap(true)).by(__.inV().id()).by(__.outV().id()), __.constant('  cypher.null')))
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                                  <td>r</td>
                              </tr>
                          <tr>
                                  <td>null</td>
                                  <td>null</td>
                                  <td>null</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.017</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-212">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-212" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.019 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.019 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:28.021 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:28.022 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.022 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:28.025 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:28.025 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.025 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:28.028 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:28.029 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.030 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.010</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-213">
    
<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-213" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-214">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-214" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Given</span>
  <span class="name">an empty graph</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-215">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-215" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.037 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().drop()}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.010</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-216">
          <a>Doc string</a>
      </div>
      <div id="msg-216" class="collapse collapsable-details">
        <pre>CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-217">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-217" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.038 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (s:Single), (a:A {prop: 42}),
       (b:B {prop: 46}), (c:C)
CREATE (s)-[:REL]-&gt;(a),
       (s)-[:REL]-&gt;(b),
       (a)-[:REL]-&gt;(c),
       (b)-[:LOOP]-&gt;(b)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.038 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (s:Single), (a:A {prop: 42}),        (b:B {prop: 46}), (c:C) CREATE (s)-[:REL]-&gt;(a),        (s)-[:REL]-&gt;(b),        (a)-[:REL]-&gt;(c),        (b)-[:LOOP]-&gt;(b)
23:03:28.043 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('Single').as('s').addV('A').as('a').property(single, 'prop', 42).addV('B').as('b').property(single, 'prop', 46).addV('C').as('c').addE('REL').from('s').to('a').addE('REL').from('s').to('b').addE('REL').from('a').to('c').addE('LOOP').from('b').to('b').barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                      
<div class="element">
  
  
<div class="tags indention">
  </div>

  
  <span class="lead-duration duration">0.033</span>


    <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-218">
    
<div class="brief passed">
  <span class="keyword indention">Scenario</span>
  <span class="name">OPTIONAL MATCH and `collect()`</span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </span>
  <div class="description indention"></div>

  <div id="element-218" class="collapse collapsable-details ">
    


    
<div class="steps inner-level">
    <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-219">
    
<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>
  

       <i class="chevron fa fa-fw"></i>
  </div>

  </div>

  <div id="steps-219" class="inner-level collapse collapsable-details ">
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">having executed:</span>
  
  <span class="lead-duration duration">0.006</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-220">
          <a>Doc string</a>
      </div>
      <div id="msg-220" class="collapse collapsable-details">
        <pre>CREATE (:DoesExist {property: 42})
CREATE (:DoesExist {property: 43})
CREATE (:DoesExist {property: 44})</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-221">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-221" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.048 [Test worker] DEBUG o.a.t.g.driver.Client - CREATE (:DoesExist {property: 42})
CREATE (:DoesExist {property: 43})
CREATE (:DoesExist {property: 44})}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.048 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: CREATE (:DoesExist {property: 42}) CREATE (:DoesExist {property: 43}) CREATE (:DoesExist {property: 44})
23:03:28.051 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.addV('DoesExist').property(single, 'property', 42).addV('DoesExist').property(single, 'property', 43).addV('DoesExist').property(single, 'property', 44).barrier().limit(0)
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">When</span>
  <span class="name">executing query:</span>
  
  <span class="lead-duration duration">0.008</span>

  </div>

        


        
        
  <div class="inner-level">
    <div class="docstring indention">
            <div data-toggle="collapse" class="collapsable-control" data-target="#msg-222">
          <a>Doc string</a>
      </div>
      <div id="msg-222" class="collapse collapsable-details">
        <pre>OPTIONAL MATCH (f:DoesExist)
OPTIONAL MATCH (n:DoesNotExist)
RETURN collect(DISTINCT n.property) AS a, collect(DISTINCT f.property) AS b</pre>
      </div>
    </div>
  </div>

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-223">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-223" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.072 [Test worker] DEBUG o.a.t.g.driver.Client - OPTIONAL MATCH (f:DoesExist)
OPTIONAL MATCH (n:DoesNotExist)
RETURN collect(DISTINCT n.property) AS a, collect(DISTINCT f.property) AS b}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.073 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: OPTIONAL MATCH (f:DoesExist) OPTIONAL MATCH (n:DoesNotExist) RETURN collect(DISTINCT n.property) AS a, collect(DISTINCT f.property) AS b
23:03:28.079 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.inject('  cypher.start').choose(__.V().as('f').hasLabel('DoesExist'), __.V().as('f').hasLabel('DoesExist'), __.constant('  cypher.null').as('f')).choose(__.V().as('n').hasLabel('DoesNotExist'), __.V().as('n').hasLabel('DoesNotExist'), __.constant('  cypher.null').as('n')).select('n', 'f').fold().project('a', 'b').by(__.unfold().select('n').choose(neq('  cypher.null'), __.choose(__.values('property'), __.values('property'), __.constant('  cypher.null')), __.constant('  cypher.null')).dedup().is(neq('  cypher.null')).fold()).by(__.unfold().select('f').choose(neq('  cypher.null'), __.choose(__.values('property'), __.values('property'), __.constant('  cypher.null')), __.constant('  cypher.null')).dedup().is(neq('  cypher.null')).fold())
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">Then</span>
  <span class="name">the result should be:</span>
  
  <span class="lead-duration duration">0.000</span>

  </div>

        


                  <table class="step-arguments">
                          <tr>
                                  <td>a</td>
                                  <td>b</td>
                              </tr>
                          <tr>
                                  <td>[]</td>
                                  <td>[42, 43, 44]</td>
                              </tr>
                      </table>
        
        

        

        
  
      </div>
          <div class="step">
        
<div class="brief passed">
  <span class="keyword indention">And</span>
  <span class="name">no side effects</span>
  
  <span class="lead-duration duration">0.017</span>

  </div>

        


        
        

        
  <div class="outputs inner-level">
          <div class="output indention">
        <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#output-224">
          Output 1
          <i class="chevron fa fa-fw"></i>
        </div>
        <div id="output-224" class="collapse collapsable-details " >
          
          <pre><p>23:03:28.081 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n) RETURN id(n)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.082 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) RETURN id(n)
23:03:28.084 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().project('id(n)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:28.085 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH ()-[r]-&gt;() RETURN id(r)}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.085 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH ()-[r]-&gt;() RETURN id(r)
23:03:28.089 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.E().project('id(r)').by(__.choose(neq('  cypher.null'), __.id(), __.constant('  cypher.null')))
23:03:28.089 [Test worker] DEBUG o.a.t.g.driver.Client - MATCH (n)
UNWIND labels(n) AS label
RETURN DISTINCT label}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.089 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Cypher: MATCH (n) UNWIND labels(n) AS label RETURN DISTINCT label
23:03:28.092 [gremlin-server-worker-1] INFO  o.o.g.s.o.c.CypherOpProcessor - Gremlin: g.V().label().is(neq('vertex')).project('label').by(__.identity()).dedup()
23:03:28.093 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().as('V').properties().project('nodeId', 'key', 'value').by(__.select('V').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
23:03:28.094 [Test worker] DEBUG o.a.t.g.driver.Client - g.V().outE().as('E').properties().project('relId', 'key', 'value').by(__.select('E').id()).by(__.key()).by(__.value())}} to - Connection{host=Host{address=localhost/127.0.0.1:37875, hostUri=ws://localhost:37875/gremlin}}
-labels:        0
+labels:        0
+nodes:         0
-nodes:         0
-properties:    0
+properties:    0
-relationships: 0
+relationships: 0
</p></pre>
        </div>
      </div>
      </div>

        
  
      </div>
      </div>
</div>


    

  </div>
</div>

                  </div>

      </div>
    </div>
  </div>
</div>


<div class="container-fluid">
  <div class="row">
    <div class="col-md-10 col-md-offset-10">
      <i class="fa fa-chevron-circle-down fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('show')"></i>
      <i class="fa fa-chevron-circle-up fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('hide')"></i>
    </div>
  </div>
</div>

<br>

<nav class="navbar navbar-default" id="footer">
  <div class="container-fluid">
    <p class="navbar-text navbar-right">
        <small>generate Cucumber HTML reports via:&nbsp;</small>
        <a class="navbar-link" href="https://github.com/jenkinsci/cucumber-reports-plugin">Jenkins Plugin</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/cucumber-reporting">Standalone</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/cucumber-sandwich">Sandwich</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/maven-cucumber-reporting">Maven</a>
        &nbsp;&nbsp;
    </p>
  </div>
</nav>

</body>
</html>
